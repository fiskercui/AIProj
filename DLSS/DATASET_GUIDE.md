# è®­ç»ƒæ•°æ®é›†å‡†å¤‡æŒ‡å—

è®­ç»ƒæ·±åº¦å­¦ä¹ æ¨¡å‹éœ€è¦å¤§é‡çš„é«˜è´¨é‡å›¾åƒæ•°æ®ã€‚æœ¬æŒ‡å—å°†æ•™ä½ å¦‚ä½•å‡†å¤‡è®­ç»ƒæ•°æ®é›†ã€‚

## ğŸ“‹ æ•°æ®é›†è¦æ±‚

### åŸºæœ¬è¦æ±‚
- **æ•°é‡**: è‡³å°‘ 1000 å¼ å›¾åƒï¼ˆè¶Šå¤šè¶Šå¥½ï¼‰
- **è´¨é‡**: é«˜åˆ†è¾¨ç‡ï¼ˆå»ºè®® 512x512 ä»¥ä¸Šï¼‰
- **æ ¼å¼**: JPG, PNG, BMP, TIF
- **å†…å®¹**: å¤šæ ·åŒ–çš„åœºæ™¯å’Œå¯¹è±¡

### æ¨èé…ç½®
| æ•°æ®é›†è§„æ¨¡ | å›¾åƒæ•°é‡ | é¢„æœŸæ•ˆæœ |
|----------|---------|---------|
| å°è§„æ¨¡ï¼ˆæµ‹è¯•ï¼‰ | 100-500 | åŸºç¡€æ•ˆæœ |
| ä¸­ç­‰è§„æ¨¡ | 1000-5000 | è‰¯å¥½æ•ˆæœ |
| å¤§è§„æ¨¡ï¼ˆæ¨èï¼‰ | 5000+ | ä¼˜ç§€æ•ˆæœ |

---

## ğŸ¯ æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨å…¬å¼€æ•°æ®é›†ï¼ˆæ¨èï¼‰

### 1. DIV2K æ•°æ®é›†ï¼ˆ800å¼ é«˜è´¨é‡å›¾åƒï¼‰

**ä¸‹è½½åœ°å€**: https://data.vision.ee.ethz.ch/cvl/DIV2K/

**ç‰¹ç‚¹**:
- âœ… é«˜è´¨é‡ 2K åˆ†è¾¨ç‡å›¾åƒ
- âœ… ä¸“ä¸ºè¶…åˆ†è¾¨ç‡ä»»åŠ¡è®¾è®¡
- âœ… è¢«å¹¿æ³›ä½¿ç”¨ï¼Œæ•ˆæœæœ‰ä¿è¯

**ä¸‹è½½æ­¥éª¤**:

1. è®¿é—® DIV2K å®˜ç½‘
2. ä¸‹è½½ "DIV2K_train_HR.zip"ï¼ˆçº¦ 3.5 GBï¼‰
3. è§£å‹åˆ°é¡¹ç›®çš„ `data/train/` ç›®å½•

```bash
# Windows PowerShell
# å‡è®¾ä¸‹è½½åˆ°äº†ä¸‹è½½æ–‡ä»¶å¤¹
Expand-Archive -Path "$env:USERPROFILE\Downloads\DIV2K_train_HR.zip" -DestinationPath "data\train"
```

### 2. Flickr2K æ•°æ®é›†ï¼ˆ2650å¼ å›¾åƒï¼‰

**ä¸‹è½½åœ°å€**: http://cv.snu.ac.kr/research/EDSR/Flickr2K.tar

**ç‰¹ç‚¹**:
- âœ… Flickr å¹³å°çš„é«˜è´¨é‡ç…§ç‰‡
- âœ… åœºæ™¯ä¸°å¯Œå¤šæ ·
- âœ… å¯ä¸ DIV2K ç»“åˆä½¿ç”¨

### 3. COCO æ•°æ®é›†ï¼ˆ118K å¼ å›¾åƒï¼‰

**ä¸‹è½½åœ°å€**: https://cocodataset.org/#download

**ç‰¹ç‚¹**:
- âœ… å¤§è§„æ¨¡æ•°æ®é›†
- âœ… åŒ…å«å„ç§æ—¥å¸¸åœºæ™¯
- âœ… é€‚åˆè®­ç»ƒé€šç”¨æ¨¡å‹

**ä¸‹è½½æ­¥éª¤**:
```bash
# ä¸‹è½½ 2017 è®­ç»ƒé›†å›¾åƒ
# æ³¨æ„ï¼šçº¦ 18 GBï¼Œéœ€è¦è¾ƒé•¿ä¸‹è½½æ—¶é—´
```

---

## ğŸ–¼ï¸ æ–¹æ¡ˆäºŒï¼šä½¿ç”¨è‡ªå·±çš„å›¾åƒ

### æ”¶é›†å›¾åƒ

#### æ¥æº 1ï¼šä¸ªäººç…§ç‰‡
- æ‰‹æœºæ‹æ‘„çš„é«˜æ¸…ç…§ç‰‡
- å•åç›¸æœºçš„ RAW è½¬ JPG
- æ‰«æçš„é«˜æ¸…å›¾ç‰‡

#### æ¥æº 2ï¼šåœ¨çº¿èµ„æº
- **Unsplash**: https://unsplash.com/ ï¼ˆå…è´¹é«˜è´¨é‡å›¾ç‰‡ï¼‰
- **Pexels**: https://www.pexels.com/ ï¼ˆå…è´¹å•†ç”¨ï¼‰
- **Pixabay**: https://pixabay.com/ ï¼ˆå…è´¹å›¾åº“ï¼‰

#### æ¥æº 3ï¼šè§†é¢‘æå–
ä»é«˜æ¸…è§†é¢‘ä¸­æå–å¸§ä½œä¸ºè®­ç»ƒæ•°æ®ï¼š

```bash
# ä½¿ç”¨ ffmpeg ä»è§†é¢‘æå–å¸§
ffmpeg -i video.mp4 -vf "fps=1" data/train/frame_%04d.png
```

### æ•´ç†å›¾åƒ

å°†æ‰€æœ‰å›¾åƒæ”¾å…¥ `data/train/` ç›®å½•ï¼š

```
DLSS/
â””â”€â”€ data/
    â””â”€â”€ train/
        â”œâ”€â”€ image_0001.jpg
        â”œâ”€â”€ image_0002.jpg
        â”œâ”€â”€ image_0003.jpg
        â””â”€â”€ ...
```

**æ³¨æ„äº‹é¡¹**:
- âœ… å›¾åƒå°ºå¯¸å»ºè®®å¤§äº 512x512
- âœ… é¿å…ä½è´¨é‡ã€æ¨¡ç³Šçš„å›¾åƒ
- âœ… ä¿æŒå›¾åƒå†…å®¹å¤šæ ·åŒ–
- âœ… ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºä½åˆ†è¾¨ç‡ç‰ˆæœ¬ï¼ˆç¨‹åºä¼šè‡ªåŠ¨ç”Ÿæˆï¼‰

---

## ğŸ”§ æ–¹æ¡ˆä¸‰ï¼šå¿«é€Ÿæµ‹è¯•ï¼ˆå°æ•°æ®é›†ï¼‰

å¦‚æœä½ åªæ˜¯æƒ³å¿«é€Ÿæµ‹è¯•ï¼Œå¯ä»¥å…ˆç”¨å°‘é‡å›¾åƒï¼š

### æ­¥éª¤ 1ï¼šå‡†å¤‡ 10-50 å¼ å›¾åƒ

ä»ä½ çš„ç”µè„‘ä¸­æ‰¾ä¸€äº›é«˜æ¸…ç…§ç‰‡æˆ–å›¾ç‰‡ã€‚

### æ­¥éª¤ 2ï¼šæ”¾å…¥è®­ç»ƒç›®å½•

```bash
# Windows
copy C:\Users\ä½ çš„ç”¨æˆ·å\Pictures\*.jpg data\train\

# æˆ–æ‰‹åŠ¨å¤åˆ¶ç²˜è´´
```

### æ­¥éª¤ 3ï¼šå¼€å§‹è®­ç»ƒ

```bash
python train.py --epochs 10
```

**æ³¨æ„**: å°æ•°æ®é›†è®­ç»ƒçš„æ¨¡å‹æ•ˆæœä¼šè¾ƒå·®ï¼Œä½†å¯ä»¥ç”¨æ¥ï¼š
- âœ… æµ‹è¯•ä»£ç æ˜¯å¦æ­£å¸¸è¿è¡Œ
- âœ… äº†è§£è®­ç»ƒæµç¨‹
- âœ… è°ƒè¯•å’Œä¼˜åŒ–ä»£ç 

---

## ğŸ¨ æ–¹æ¡ˆå››ï¼šæ•°æ®å¢å¼ºï¼ˆæ‰©å……æ•°æ®ï¼‰

å¦‚æœå›¾åƒæ•°é‡æœ‰é™ï¼Œå¯ä»¥é€šè¿‡æ•°æ®å¢å¼ºæ‰©å……ï¼š

### è‡ªåŠ¨æ•°æ®å¢å¼ºï¼ˆå·²å†…ç½®ï¼‰

é¡¹ç›®å·²ç»å†…ç½®äº†æ•°æ®å¢å¼ºåŠŸèƒ½ï¼š
- âœ… éšæœºç¿»è½¬ï¼ˆæ°´å¹³ã€å‚ç›´ï¼‰
- âœ… éšæœºæ—‹è½¬ï¼ˆ90åº¦ï¼‰
- âœ… éšæœºè£å‰ª

è¿™äº›ä¼šåœ¨è®­ç»ƒæ—¶è‡ªåŠ¨åº”ç”¨ï¼Œç›¸å½“äºæ‰©å……äº† 8 å€æ•°æ®ã€‚

### æ‰‹åŠ¨æ•°æ®å¢å¼ºè„šæœ¬

åˆ›å»º `augment_data.py`:

```python
import cv2
import os
from pathlib import Path

def augment_image(img_path, output_dir):
    """å¯¹å•å¼ å›¾åƒè¿›è¡Œå¤šç§å¢å¼º"""
    img = cv2.imread(str(img_path))
    name = Path(img_path).stem
    
    # åŸå›¾
    cv2.imwrite(f"{output_dir}/{name}_original.jpg", img)
    
    # æ°´å¹³ç¿»è½¬
    cv2.imwrite(f"{output_dir}/{name}_hflip.jpg", cv2.flip(img, 1))
    
    # å‚ç›´ç¿»è½¬
    cv2.imwrite(f"{output_dir}/{name}_vflip.jpg", cv2.flip(img, 0))
    
    # æ—‹è½¬ 90 åº¦
    cv2.imwrite(f"{output_dir}/{name}_rot90.jpg", cv2.rotate(img, cv2.ROTATE_90_CLOCKWISE))
    
    # æ—‹è½¬ 180 åº¦
    cv2.imwrite(f"{output_dir}/{name}_rot180.jpg", cv2.rotate(img, cv2.ROTATE_180))
    
    # æ—‹è½¬ 270 åº¦
    cv2.imwrite(f"{output_dir}/{name}_rot270.jpg", cv2.rotate(img, cv2.ROTATE_90_COUNTERCLOCKWISE))

# æ‰¹é‡å¤„ç†
input_dir = "data/original"
output_dir = "data/train"
os.makedirs(output_dir, exist_ok=True)

for img_file in Path(input_dir).glob("*.jpg"):
    augment_image(img_file, output_dir)
    print(f"å¤„ç†: {img_file.name}")
```

---

## ğŸ“ æ•°æ®é›†ç»„ç»‡ç»“æ„

### æ¨èçš„ç›®å½•ç»“æ„

```
DLSS/
â””â”€â”€ data/
    â”œâ”€â”€ train/              # è®­ç»ƒæ•°æ®ï¼ˆå¿…éœ€ï¼‰
    â”‚   â”œâ”€â”€ scene_001.jpg
    â”‚   â”œâ”€â”€ scene_002.jpg
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ val/                # éªŒè¯æ•°æ®ï¼ˆå¯é€‰ï¼‰
    â”‚   â”œâ”€â”€ val_001.jpg
    â”‚   â””â”€â”€ ...
    â””â”€â”€ test/               # æµ‹è¯•æ•°æ®
        â”œâ”€â”€ test_001.jpg
        â””â”€â”€ ...
```

### éªŒè¯æ•°æ®é›†çš„ç»„ç»‡

å¦‚æœä½ æƒ³åœ¨è®­ç»ƒæ—¶éªŒè¯æ•ˆæœï¼Œå¯ä»¥å‡†å¤‡éªŒè¯é›†ï¼š

```python
# åœ¨ config.yaml ä¸­æ·»åŠ 
data:
  train_dir: "./data/train"
  val_dir: "./data/val"      # æ·»åŠ è¿™ä¸€è¡Œ
  test_dir: "./data/test"
```

---

## âœ… éªŒè¯æ•°æ®é›†

åˆ›å»ºä¸€ä¸ªå¿«é€Ÿæ£€æŸ¥è„šæœ¬ `check_dataset.py`:

```python
"""æ£€æŸ¥æ•°æ®é›†æ˜¯å¦å‡†å¤‡å°±ç»ª"""
import os
from pathlib import Path

def check_dataset():
    train_dir = Path("data/train")
    
    if not train_dir.exists():
        print(f"âŒ ç›®å½•ä¸å­˜åœ¨: {train_dir}")
        return False
    
    # æ”¯æŒçš„æ ¼å¼
    valid_extensions = ['.jpg', '.jpeg', '.png', '.bmp', '.tif', '.tiff']
    
    # ç»Ÿè®¡å›¾åƒ
    images = []
    for ext in valid_extensions:
        images.extend(train_dir.glob(f"*{ext}"))
        images.extend(train_dir.glob(f"*{ext.upper()}"))
    
    num_images = len(images)
    
    print(f"æ•°æ®é›†æ£€æŸ¥:")
    print(f"  ç›®å½•: {train_dir.absolute()}")
    print(f"  å›¾åƒæ•°é‡: {num_images}")
    
    if num_images == 0:
        print("\nâŒ æœªæ‰¾åˆ°è®­ç»ƒå›¾åƒï¼")
        print("\nè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤:")
        print("  1. ä¸‹è½½æ•°æ®é›†ï¼ˆæ¨è DIV2Kï¼‰")
        print("  2. æˆ–æ”¶é›†è‡ªå·±çš„å›¾åƒ")
        print("  3. å°†å›¾åƒæ”¾å…¥ data/train/ ç›®å½•")
        print("\næŸ¥çœ‹è¯¦ç»†æ•™ç¨‹: DATASET_GUIDE.md")
        return False
    
    if num_images < 100:
        print(f"\nâš ï¸  å›¾åƒæ•°é‡è¾ƒå°‘ï¼ˆ{num_images} å¼ ï¼‰")
        print("  å»ºè®®è‡³å°‘ 1000 å¼ å›¾åƒä»¥è·å¾—è‰¯å¥½æ•ˆæœ")
    elif num_images < 1000:
        print(f"\nâœ“ å›¾åƒæ•°é‡åˆé€‚ï¼ˆ{num_images} å¼ ï¼‰")
    else:
        print(f"\nâœ… å›¾åƒæ•°é‡å……è¶³ï¼ˆ{num_images} å¼ ï¼‰")
    
    # æ˜¾ç¤ºå‰å‡ å¼ å›¾åƒ
    print(f"\nç¤ºä¾‹å›¾åƒ:")
    for i, img in enumerate(images[:5], 1):
        print(f"  {i}. {img.name}")
    
    return True

if __name__ == "__main__":
    check_dataset()
```

è¿è¡Œæ£€æŸ¥ï¼š
```bash
python check_dataset.py
```

---

## ğŸš€ å¼€å§‹è®­ç»ƒ

æ•°æ®é›†å‡†å¤‡å¥½åï¼Œå¼€å§‹è®­ç»ƒï¼š

```bash
# åŸºç¡€è®­ç»ƒ
python train.py

# æŒ‡å®šè®­ç»ƒè½®æ•°
python train.py --epochs 100

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
python train.py --config config.yaml
```

---

## ğŸ’¡ æ•°æ®é›†å»ºè®®

### åˆå­¦è€…ï¼ˆå¿«é€Ÿä½“éªŒï¼‰
- ä½¿ç”¨ **100-200 å¼ **å›¾åƒ
- è®­ç»ƒ **10-20 ä¸ª epoch**
- ç›®æ ‡ï¼šç†è§£è®­ç»ƒæµç¨‹

### è¿›é˜¶å­¦ä¹ ï¼ˆè·å¾—è¾ƒå¥½æ•ˆæœï¼‰
- ä½¿ç”¨ **DIV2K**ï¼ˆ800å¼ ï¼‰
- è®­ç»ƒ **50-100 ä¸ª epoch**
- ç›®æ ‡ï¼šè·å¾—å¯ç”¨çš„æ¨¡å‹

### ä¸“ä¸šä½¿ç”¨ï¼ˆæœ€ä½³æ•ˆæœï¼‰
- ä½¿ç”¨ **DIV2K + Flickr2K**ï¼ˆ3450å¼ ï¼‰
- è®­ç»ƒ **100-200 ä¸ª epoch**
- ä½¿ç”¨ GPU åŠ é€Ÿ
- ç›®æ ‡ï¼šæ¥è¿‘è®ºæ–‡æ•ˆæœ

---

## ğŸ“Š æ•°æ®é›†å¯¹æ¯”

| æ•°æ®é›† | å¤§å° | å›¾åƒæ•° | ä¸‹è½½éš¾åº¦ | æ¨èåº¦ |
|--------|------|--------|----------|--------|
| DIV2K | 3.5 GB | 800 | ç®€å• | â­â­â­â­â­ |
| Flickr2K | 7 GB | 2650 | ä¸­ç­‰ | â­â­â­â­ |
| COCO | 18 GB | 118K | è¾ƒéš¾ | â­â­â­ |
| è‡ªå·±æ”¶é›† | è‡ªå®šä¹‰ | è‡ªå®šä¹‰ | ç®€å• | â­â­â­ |

---

## â“ å¸¸è§é—®é¢˜

### Q: éœ€è¦å‡†å¤‡ä½åˆ†è¾¨ç‡å›¾åƒå—ï¼Ÿ
**A**: ä¸éœ€è¦ï¼ç¨‹åºä¼šè‡ªåŠ¨ä»é«˜åˆ†è¾¨ç‡å›¾åƒç”Ÿæˆä½åˆ†è¾¨ç‡ç‰ˆæœ¬ã€‚

### Q: å›¾åƒéœ€è¦ç‰¹å®šå°ºå¯¸å—ï¼Ÿ
**A**: ä¸éœ€è¦ï¼Œç¨‹åºä¼šè‡ªåŠ¨è£å‰ªã€‚å»ºè®®å¤§äº 512x512ã€‚

### Q: å¯ä»¥ä½¿ç”¨è§†é¢‘å—ï¼Ÿ
**A**: å¯ä»¥ï¼ä½¿ç”¨ ffmpeg æå–è§†é¢‘å¸§ä½œä¸ºè®­ç»ƒæ•°æ®ã€‚

### Q: æ•°æ®é›†å¤ªå¤§æ”¾ä¸ä¸‹æ€ä¹ˆåŠï¼Ÿ
**A**: 
- ä½¿ç”¨å¤–ç½®ç¡¬ç›˜
- ä½¿ç”¨äº‘å­˜å‚¨
- ä½¿ç”¨æ•°æ®å¢å¼ºå‡å°‘å®é™…å›¾åƒæ•°é‡

---

## ğŸ¯ æ€»ç»“

**æœ€ç®€å•çš„å¼€å§‹æ–¹å¼**:
1. ä¸‹è½½ DIV2K æ•°æ®é›†
2. è§£å‹åˆ° `data/train/`
3. è¿è¡Œ `python train.py`

**å¿«é€Ÿæµ‹è¯•æ–¹å¼**:
1. æ”¶é›† 50-100 å¼ è‡ªå·±çš„ç…§ç‰‡
2. æ”¾å…¥ `data/train/`
3. è¿è¡Œ `python train.py --epochs 10`

æŸ¥çœ‹æ›´å¤šå¸®åŠ©: `USAGE_GUIDE.md`
